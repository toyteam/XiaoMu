CREATE TABLE `blog` (`id` int(11) NOT NULL AUTO_INCREMENT,`blog_title` varchar(255) CHARACTER SET utf8 NOT NULL,`blog_content` longtext CHARACTER SET utf8 NOT NULL,`blog_category_id` int(11) NOT NULL,`blog_tags` varchar(255) CHARACTER SET utf8 NULL DEFAULT NULL,`blog_view_count` int(11) NULL DEFAULT NULL,`blog_view_password` varchar(20) CHARACTER SET utf8 NULL DEFAULT NULL,`blog_is_public` smallint(1) NULL,`blog_create_time` datetime NOT NULL,`blog_update_time` datetime NULL DEFAULT NULL,`blog_publish_time` datetime NULL DEFAULT NULL,`blog_allow_comment` smallint(1) NULL,`blog_undo_time` datetime NULL DEFAULT NULL,`blog_summary` varchar(255) NULL,`blog_category_top` smallint(1) NULL,`blog_index_top` smallint(1) NULL,`blog_delete_time` datetime NULL DEFAULT NULL,PRIMARY KEY (`id`) ,INDEX `fk_blog_category_1` (`blog_category_id`))ENGINE=InnoDBDEFAULT CHARACTER SET=utf8 COLLATE=utf8_general_ci;CREATE TABLE `category` (`id` int(11) NOT NULL AUTO_INCREMENT,`category_user_id` int(11) NOT NULL,`category_name` varchar(50) CHARACTER SET utf8 NOT NULL,`category_description` varchar(255) CHARACTER SET utf8 NULL DEFAULT NULL,`category_create_time` datetime NOT NULL,`category_update_time` datetime NULL DEFAULT NULL,`category_delete_time` datetime NULL DEFAULT NULL,PRIMARY KEY (`id`) ,UNIQUE INDEX `category_user_unique` (`category_user_id`, `category_name`))ENGINE=InnoDBDEFAULT CHARACTER SET=utf8 COLLATE=utf8_general_ciAUTO_INCREMENT=1;CREATE TABLE `chat` (`id` int(11) NOT NULL,`chat_from_user_id` int(11) NOT NULL,`chat_to_user_id` int(11) NOT NULL,`chat_content` varchar(255) CHARACTER SET utf8 NOT NULL,`chat_create_time` datetime NOT NULL,PRIMARY KEY (`id`) ,INDEX `fk_chat_user_1` (`chat_from_user_id`),INDEX `fk_chat_user_2` (`chat_to_user_id`))ENGINE=InnoDBDEFAULT CHARACTER SET=utf8 COLLATE=utf8_general_ci;CREATE TABLE `comment` (`id` int(11) NOT NULL,`comment_blog_id` int(11) NOT NULL,`comment_user_id` int(11) NOT NULL,`comment_content` longtext CHARACTER SET utf8 NOT NULL,`comment_create_time` datetime NOT NULL,`comment_delete_time` datetime NULL DEFAULT NULL,PRIMARY KEY (`id`) )ENGINE=InnoDBDEFAULT CHARACTER SET=utf8 COLLATE=utf8_general_ci;CREATE TABLE `follow` (`id` int(11) NOT NULL,`follow_create_user_id` int(11) NOT NULL,`follow_target_user_id` int(11) NOT NULL,`follow_create_time` datetime NOT NULL,PRIMARY KEY (`id`) ,INDEX `fk_follow_user_1` (`follow_create_user_id`),INDEX `fk_follow_user_2` (`follow_target_user_id`))ENGINE=InnoDBDEFAULT CHARACTER SET=utf8 COLLATE=utf8_general_ci;CREATE TABLE `log` (`id` int(11) NOT NULL,`log_create_user_id` int(11) NOT NULL,`log_data` text CHARACTER SET utf8 NULL,`log_type` varchar(255) CHARACTER SET utf8 NOT NULL,`log_target_user_id` int(11) NULL DEFAULT NULL,`log_create_time` datetime NOT NULL,PRIMARY KEY (`id`) ,INDEX `fk_log_user_1` (`log_create_user_id`),INDEX `fk_log_user_2` (`log_target_user_id`))ENGINE=InnoDBDEFAULT CHARACTER SET=utf8 COLLATE=utf8_general_ci;CREATE TABLE `message` (`id` int(11) NOT NULL,`message_create_user_id` int(11) NOT NULL,`message_target_user_id` int(11) NOT NULL,`message_content` longtext CHARACTER SET utf8 NOT NULL,`message_create_time` datetime NOT NULL,`message_delete_time` datetime NULL DEFAULT NULL,PRIMARY KEY (`id`) ,INDEX `fk_message_user_1` (`message_create_user_id`),INDEX `fk_message_user_2` (`message_target_user_id`))ENGINE=InnoDBDEFAULT CHARACTER SET=utf8 COLLATE=utf8_general_ci;CREATE TABLE `user` (`id` int(11) NOT NULL AUTO_INCREMENT,`user_name` varchar(64) CHARACTER SET utf8 NOT NULL,`user_password` varchar(64) CHARACTER SET utf8 NOT NULL,`user_email` varchar(50) CHARACTER SET utf8 NOT NULL,`user_phone` varchar(20) CHARACTER SET utf8 NULL DEFAULT NULL,`user_gender` smallint(1) NULL DEFAULT NULL,`user_birthday` date NULL DEFAULT NULL,`user_id_num` varchar(20) CHARACTER SET utf8 NULL DEFAULT NULL,`user_qq` varchar(20) CHARACTER SET utf8 NULL DEFAULT NULL,`user_address` varchar(255) CHARACTER SET utf8 NULL DEFAULT NULL,`user_profile_view_count` int(11) NULL DEFAULT 0,`user_alipay_picture_path` varchar(255) CHARACTER SET utf8 NULL DEFAULT NULL,`user_is_activate` smallint(1) NOT NULL DEFAULT 0,`user_lock_time` datetime NULL,`user_create_time` datetime NOT NULL,`user_update_time` datetime NULL DEFAULT NULL,`user_lastest_login_time` datetime NULL DEFAULT NULL,`user_lastest_login_ip` bigint(20) NULL DEFAULT NULL,PRIMARY KEY (`id`) ,UNIQUE INDEX `user_name_unique` (`user_name`))ENGINE=InnoDBDEFAULT CHARACTER SET=utf8 COLLATE=utf8_general_ciAUTO_INCREMENT=1;ALTER TABLE `blog` ADD CONSTRAINT `fk_blog_category_1` FOREIGN KEY (`blog_category_id`) REFERENCES `category` (`id`);ALTER TABLE `category` ADD CONSTRAINT `fk_category_user_1` FOREIGN KEY (`category_user_id`) REFERENCES `user` (`id`);ALTER TABLE `chat` ADD CONSTRAINT `fk_chat_user_1` FOREIGN KEY (`chat_from_user_id`) REFERENCES `user` (`id`);ALTER TABLE `chat` ADD CONSTRAINT `fk_chat_user_2` FOREIGN KEY (`chat_to_user_id`) REFERENCES `user` (`id`);ALTER TABLE `follow` ADD CONSTRAINT `fk_follow_user_1` FOREIGN KEY (`follow_create_user_id`) REFERENCES `user` (`id`);ALTER TABLE `follow` ADD CONSTRAINT `fk_follow_user_2` FOREIGN KEY (`follow_target_user_id`) REFERENCES `user` (`id`);ALTER TABLE `log` ADD CONSTRAINT `fk_log_user_1` FOREIGN KEY (`log_create_user_id`) REFERENCES `user` (`id`);ALTER TABLE `log` ADD CONSTRAINT `fk_log_user_2` FOREIGN KEY (`log_target_user_id`) REFERENCES `user` (`id`);ALTER TABLE `message` ADD CONSTRAINT `fk_message_user_1` FOREIGN KEY (`message_create_user_id`) REFERENCES `user` (`id`);ALTER TABLE `message` ADD CONSTRAINT `fk_message_user_2` FOREIGN KEY (`message_target_user_id`) REFERENCES `user` (`id`);ALTER TABLE `comment` ADD CONSTRAINT `fk_comment_blog_1` FOREIGN KEY (`comment_blog_id`) REFERENCES `blog` (`id`);ALTER TABLE `comment` ADD CONSTRAINT `fk_comment_user_1` FOREIGN KEY (`comment_user_id`) REFERENCES `user` (`id`);